<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" th:href="@{/img/apple-icon.png}">
  <link rel="icon" type="image/png" th:href="@{/img/favicon.png}">
  <title>LOGIN</title>
  <link rel="stylesheet" type="text/css" th:href="@{/css/ggle-fonts.css}" />
  <link th:href="@{/css/nucleo-icons.css}" rel="stylesheet" />
  <link rel="stylesheet"  th:href="@{webjars/font-awesome/5.15.3/css/all.css}"/>
  <script  th:src="@{webjars/font-awesome/5.15.3/js/all.js}"></script>
  <link rel="stylesheet" th:href="@{webjars/bootstrap/5.1.1/css/bootstrap.css}">
  <link rel="stylesheet" th:href="@{webjars/material-design-icons/4.0.0/material-icons.css}">
  <link th:href="@{/css/material-icons-round.css}" rel="stylesheet">
  <link id="pagestyle" th:href="@{/css/material-dashboard.min.css}" rel="stylesheet" />
  <link  th:href="@{/css/custom-material-dashboard.css}" rel="stylesheet" type="text/css"/>
  <link  th:href="@{/css/keyboard.css}" rel="stylesheet" />
  <!-- Anti-flicker snippet (recommended)  -->
  <style>
    html,
    body {
      height: 100%;
    }
    .async-hide {
      opacity: 0 !important
    }
  </style>
</head>

<body class="bg-gray-200">
<nav class="navbar navbar-expand-lg position-absolute top-0 z-index-3 w-100 shadow-none my-3 navbar-transparent mt-4">
</nav>
<!-- End Navbar -->
<main class="main-content  mt-0">
  <div class="page-header align-items-start min-vh-100" style="background-image: url('https://images.unsplash.com/photo-1497294815431-9365093b7331?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1950&q=80');">
    <span class="mask bg-gradient-dark opacity-6"></span>
    <div class="container my-auto">
      <div class="row">
        <div class="col-lg-4 col-md-8 col-12 mx-auto">
          <div class="card z-index-0 fadeIn3 fadeInBottom">
            <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
              <div class="bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1">
                <h4 class="text-white font-weight-bolder text-center mt-2 mb-0">Sign in</h4>
                <div class="row mt-3">
                  <div class="col-2 text-center ms-auto">
                    <a class="btn btn-link px-3" href="javascript:;">
                      <i class="fa fa-facebook text-white text-lg"></i>
                    </a>
                  </div>
                  <div class="col-2 text-center px-1">
                    <a class="btn btn-link px-3" href="javascript:;">
                      <i class="fa fa-github text-white text-lg"></i>
                    </a>
                  </div>
                  <div class="col-2 text-center me-auto">
                    <a class="btn btn-link px-3" href="javascript:;">
                      <i class="fa fa-google text-white text-lg"></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-body">
              <form role="form" id="login-form" class="text-start form">
                <div class="input-group input-group-outline my-3">
                  <label class="form-label">Username</label>
                  <input type="text" id="username" name="username" class="form-control" required>
                </div>
                <div class="input-group input-group-outline my-3">
                  <label class="form-label">Password</label>
                  <input type="password" id="password" name="password" class="form-control" required>
                </div>
                <div class="text-center">
                  <input type="submit" value="Submit" class="btn bg-gradient-primary w-100 my-4 mb-2">
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
<!--   Core JS Files   -->
<script th:src="@{webjars/jquery/3.6.0/jquery.js}"></script>
<script th:src="@{webjars/bootstrap/5.1.1/js/bootstrap.js}"></script>
<script th:src="@{/js/core/popper.min.js}"></script>
<script th:src="@{/js/plugins/perfect-scrollbar.min.js}"></script>
<script th:src="@{/js/plugins/smooth-scrollbar.min.js}"></script>
<script th:src="@{/js/plugins/choices.min.js}"></script>
<script th:src="@{/js/plugins/dropzone.min.js}"></script>
<script th:src="@{/js/plugins/quill.min.js}"></script>
<!-- Github buttons -->
<!--<script async defer src="https://buttons.github.io/buttons.js"></script>-->
<!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
<script th:src="@{/js/material-dashboard.min.js}"></script>
<script th:src="@{/js/plugins/notify.min.js}"></script>
<script>
  var win = navigator.platform.indexOf('Win') > -1;
  if (win && document.querySelector('#sidenav-scrollbar')) {
  var options = {
  damping: '0.5'
  }
  Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
  }
</script>
<script>
  document.getElementById('login-form').addEventListener('submit',login);
  function login(e){
    e.preventDefault();
    const form = document.getElementById('login-form');
    const formData = new FormData(form);
    fetch('/login',{
      method:'POST',
      body:formData,
      redirect: "follow"
    }).then(function(res){
      if(!res.ok){
        $.notify("Wrong Username or Password","error");
        form.reset();
        throw new Error('Something Went Wrong');
      }
      else{
        window.location.href= res.url;
      }
    })

  }
</script>
</body>

</html>